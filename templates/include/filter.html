<!-- Фильтр для монет и банкнот -->
<div class="bg-[#d8b4fe] p-6 rounded-lg mb-6">
    <h3 class="text-[#581c87] text-xl font-bold mb-4">Фильтр</h3>
    <form method="get" action="." class="space-y-4">
        <!-- Сетка для фильтров (две колонки) -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <!-- Название -->
            <div>
                <label for="name" class="block text-[#581c87] font-medium">Название</label>
                <input type="text" name="name" id="name" value="{{ request.GET.name }}" class="w-full px-4 py-2 rounded-lg border border-[#581c87] focus:outline-none focus:ring-2 focus:ring-[#581c87]">
            </div>

            <!-- Страна (выпадающий список) -->
            <div>
                <label for="country" class="block text-[#581c87] font-medium">Страна</label>
                <select name="country" id="country" class="w-full px-4 py-2 rounded-lg border border-[#581c87] focus:outline-none focus:ring-2 focus:ring-[#581c87]">
                    <option value="">Все страны</option>
                    {% for country in countries %}
                        <option
                          value="{{ country.id }}"
                          {% if request.GET.country|add:"0" == country.id %}selected{% endif %}
                        >
                            {{ country.title }} ({{ country.item_count }})
                        </option>
                    {% endfor %}
                </select>
            </div>

            <!-- Год выпуска -->
            <div>
                <label for="year" class="block text-[#581c87] font-medium">Год выпуска</label>
                <input type="text" name="year" id="year" value="{{ request.GET.year }}" class="w-full px-4 py-2 rounded-lg border border-[#581c87] focus:outline-none focus:ring-2 focus:ring-[#581c87]">
            </div>

            <!-- KM# -->
            <div>
                <label for="km_number" class="block text-[#581c87] font-medium">KM#</label>
                <input type="text" name="km_number" id="km_number" value="{{ request.GET.km_number }}" class="w-full px-4 py-2 rounded-lg border border-[#581c87] focus:outline-none focus:ring-2 focus:ring-[#581c87]">
                <datalist id="kmNumbers"> {% for item in km_numbers %} <option value="{{ item.km_number }}"> {% endfor %} </datalist>
            </div>

            <!-- Материал (выпадающий список) -->
            <div>
                <label for="material" class="block text-[#581c87] font-medium">Материал</label>
                <select name="material" id="material" class="w-full px-4 py-2 rounded-lg border border-[#581c87] focus:outline-none focus:ring-2 focus:ring-[#581c87]">
                    <option value="">Все материалы</option>
                    {% for material in materials %}
                        <option
                            value="{{ material.id }}"
                            {% if request.GET.material|add:"0" == material.id %}selected{% endif %}
                        >
                            {{ material.title }} ({{ material.item_count }})
                        </option>
                    {% endfor %}
                </select>
            </div>

            <!-- Состояние (выпадающий список) -->
            <div>
                <label for="state" class="block text-[#581c87] font-medium">Состояние</label>
                <select name="state" id="state" class="w-full px-4 py-2 rounded-lg border border-[#581c87] focus:outline-none focus:ring-2 focus:ring-[#581c87]">
                    <option value="">Все состояния</option>
                    {% for state in states %}
                        <option
                          value="{{ state.id }}"
                          {% if request.GET.state|add:"0" == state.id %}selected{% endif %}
                        >
                            {{ state.title }} ({{ state.item_count }})
                        </option>
                    {% endfor %}
                </select>
            </div>

            <!-- Тема (выпадающий список) -->
            <div>
                <label for="themes" class="block text-[#581c87] font-medium">Тема</label>
                <select name="themes__id" id="themes" class="w-full px-4 py-2 rounded-lg border border-[#581c87] focus:outline-none focus:ring-2 focus:ring-[#581c87]">
                    <option value="">Все темы</option>
                    {% for theme in themes %}
                        <option
                          value="{{ theme.id }}"
                          {% if request.GET.themes__id == theme.id|stringformat:"s" %}selected{% endif %}
                        >
                            {{ theme.title }} ({{ theme.item_count }})
                        </option>
                    {% endfor %}
                </select>
            </div>

            <!-- Тип издания (выпадающий список) -->
            <div>
                <label for="type_of_edition" class="block text-[#581c87] font-medium">Тип издания</label>
                <select name="type_of_edition" id="type_of_edition" class="w-full px-4 py-2 rounded-lg border border-[#581c87] focus:outline-none focus:ring-2 focus:ring-[#581c87]">
                    <option value="">Все типы</option>
                    {% for type_of_edition in type_of_editions %}
                        <option
                          value="{{ type_of_edition.id }}"
                          {% if request.GET.type_of_edition|add:"0" == type_of_edition.id %}selected{% endif %}
                        >
                            {{ type_of_edition.title }} ({{ type_of_edition.item_count }})
                        </option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <!-- Кнопки фильтрации и сброса -->
        {% if request.GET %}
    <div class="flex space-x-4 mt-4">
        <a href="." class="bg-[#f87171] text-white px-4 py-2 rounded-lg hover:bg-[#ef4444]">Назад к списку</a>
        <button type="submit" class="bg-[#a3e635] text-[#0a0a0a] px-4 py-2 rounded-lg hover:bg-[#86efac]">Применить фильтр</button>
        <a href="." class="bg-[#f87171] text-white px-4 py-2 rounded-lg hover:bg-[#ef4444]">Сбросить фильтр</a>
    </div>
        {% else %}
    <div class="flex space-x-4 mt-4">
        <button type="submit" class="bg-[#a3e635] text-[#0a0a0a] px-4 py-2 rounded-lg hover:bg-[#86efac]">Применить фильтр</button>
        <a href="." class="bg-[#f87171] text-white px-4 py-2 rounded-lg hover:bg-[#ef4444]">Сбросить фильтр</a>
    </div>
        {% endif %}
    </form>
</div>